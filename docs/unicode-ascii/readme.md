# unicode 码与 ASCII 码

JS 中常常涉及到对字符串中中文的处理，这就和字符的编码有关系了，这里简单清晰的记录一下关于编码的事情

## ASCII 编码

一个 ascii 码占用 8 个二进制字节

ascii 码一共有 127 个。

其中第 0 ～ 32 号及第 127 号(共 34 个)是控制字符或通讯专用字符，如控制符：LF（换行）、CR（回车）、FF（换页）、DEL（删除）、BEL（振铃）等；通讯专用字符：SOH（文头）、EOT（文尾）、ACK（确认）等；

第 33 ～ 126 号(共 94 个)是字符，

第 48 ～ 57 号为 0 ～ 9 十个阿拉伯数字；

65 ～ 90 号为 26 个大写英文字母，

97 ～ 122 号为 26 个小写英文字母

```js
const a = 'a';
const b = a.charCodeAt(0); // 97  字符a在ascii码中的位置，十进制表示
b.toString(2); // 转成二进制：1100001, 由于不足8位，在前面补上0， 所以最终结果是01100001,
```

其余为一些标点符号、运算符号等

## Unicode 编码

unicode 编码是从 ascii 码为基础扩展出来的

Unicode 一般使用 **16 进制**表示字符的码位，比如中文“汉”的 16 进制编码为“6c49”

Unicode 码一共分为 17 组，也可以叫做“17 个字符平面”,其中第 1 个平面最为重要，常见的字符大多数都在这个平面上，被称为 **基础字符平面(BMP)**

17 组平面序号从 00 开始，到 10 结束

每一个平面从 0001 开始，到 FFFF 结束，一共有 65536 个码位，也就是说第一个平面的码位是从 000000~00FFFF(在码位前面加上平面的序号)

在 Unicode5.0.0 版本中，实际上只使用了 0，1，2，14 等 4 个平面上的码位，

其中平面 2 的 43253 个字符都是汉字。平面 0 上定义了 27973 个汉字，常见的汉字被定义在第 0 平面的 004E00-009FA5 之间

由于计算机只能识别 0 和 1，所以我们需要把字符的 Unicode 码转换成计算机能识别的二进制码，转换二进制码的方式分为 UTF-8,UTF-16,UTF-32 等，我们最常见以及最常用到的就是 UTF-8 模式

## UTF-8

UTF-8 的转换对照表：

| Unicode 编码(十六进制)　 | UTF-8 字节流(二进制)                |
| ------------------------ | ----------------------------------- |
| 000000-00007F            | 0xxxxxxx                            |
| 000080-0007FF            | 110xxxxx 10xxxxxx                   |
| 000800-00FFFF            | 1110xxxx 10xxxxxx 10xxxxxx          |
| 010000-10FFFF            | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx |

从表中可看出 UTF-8 的方便之处在于 **对不同范围的字符使用不同长度的编码**。对于 0x00-0x7F (这里实际上是 0x0000-0x007F,前面的 0 可以省略)之间的字符，UTF-8 编码与 ASCII 编码完全相同。

以中文“汉”为例：

```js
let a = '汉';
let b = a.charCodeAt(0); // 获取字的Unicode码: 6c49
let c = b.toString(2); // 把上一步的16进制，转为二进制 ： 110110001001001

//  由于6c49在 000800-00FFFF之间，所以要使用3个字节的模板，把模板中的 x 补全，不够的用0代替
// 1110xxxx 10xxxxxx 10xxxxxx
//      110   110001   001001
// 11100110 10110001 10001001   这是补全后的结果，可以直接被计算机识别了

// 再分别转换成16进制的数字
// e6 b1 89
```

不要问前面为什么会有一些 1、0，模板! 模板的意思就是一套规则，一种符合 UTF-8 规则的协议，所以没有为什么！

所以网上很多类似于“一个汉字占几个字符的问题”，由于汉字大多数都在 004E00-009FA5 之间，所以需要使用 3 个字符的模板，也就是说，如果 **用 UTF-8 格式**保存的话，一个汉字占用 3 个字符，UTF-16 和 UTF-32 格式保存的话结果是不同的。



## 其他进制转成 10 进制

通过 parseInt(target, type)函数，可以将其他进制的数字转为 10 进制.parseInt 的第二个参数表示第一个参数是以几进制的方式输入的

```js
parseInt('6c49', 16); // 27721
```

## 10 进制转成其他进制

通过 toString(type)函数，可以把 10 进制转成其他进制，toString 的第一个参数，表示将要转成几进制的类型

```js
let a = 27721;
a.toString(2); // 110110001001001
a.toString(16); // 6c49
```
