<!-- Date: 2017-03-24 03:25:43 -->

# linux 下删除文件和文件夹常用命令如下

linux 下删除指定文件之外的其他文件

## 一、Linux 下删除文件和文件夹常用命令如下：

删除文件： rm file www.2cto.com

删除文件夹： rm -rf dir

需要注意的是， rmdir 只能够删除 空文件夹。

二、删除制定文件（夹）之外的所有文件呢？

1.  方法 1，比较麻烦的做法是：复制需要保留的文件到其他文件夹，然后将该目录删除， 然后将需要保留的移动 回来。
    mv keep ../ #保留文件（夹） keep
    rm -rf \* #删除当前文件夹里的所有文件
    mv ../keep ./ #将原来的东西移动回来

2.  方法 2，需要在当前文件夹中进行:
    rm -rf !(keep) #删除 keep 文件之外的所有文件
    rm -rf !(keep1 | keep2) #删除 keep1 和 keep2 文件之外的所有文件

3.  方法 3，当前文件夹中结合使用 grep 和 xargs 来处理文件名：
    ls | grep -v keep | xargs rm #删除 keep 文件之外的所有文件说明： ls 先得到当前的所有文件和文件夹的名字， grep -v keep，进行 grep 正则匹配查找 keep，-v 参数决定了结果为匹配之外的结果，也就是的到了 keep 之外的所有文件名，然后 xargs 用于从 标准输入获得参数 并且传递给后面的命令，这里使用的命令是 rm，然后由 rm 删除前面选择的文件。好处：使用了 grep 来正则表达式来匹配文件名字，可以一次保留多个文件，从而进行更加准确的处理。

4.  方法 4，使用 find 命令代替 ls，改进方法 3 从而能够处理制定文件夹的文件：
    find ./test/ | grep -v keep | xargs rm #删除当前 test 文件夹中 keep 文件之外的所有文件说明，用 grep 而不用 find -name 选取名字，因为 find 选取名字时比较麻烦，对正则表达式支持不够，无法排除指定文件名。

5.  方法 5，直接使用 find 命令删除其他文件：
    find ./ -name '[^k][^e][^e][^p]_' -exec rm -rf {} \; #删除 keep 以外的其他文件。
    find ./ -name '[^k][^e][^e][^p]_' | xargs rm -rf #删除 keep 以外的其他文件。推荐！说明：上面第二行的代码效率高些，原因在于删除多个文件时 -exec 会启动多个进程来处理，而 xargs 会启动一个 rm 进程来处理。
